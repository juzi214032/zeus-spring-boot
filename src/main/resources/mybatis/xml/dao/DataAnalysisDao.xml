<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="team1.deal.dao.DataAnalysisDao">
    <select id="countSunUserNumber" resultType="long">
        select count(*) from user
        INNER JOIN user_role
        ON user.id = user_role.uid
        where user_role.rId=4
    </select>

    <!-- long countDemandNumber(); -->
    <select id="countDemandNumber" resultType="long">
        select count(*) from demand_order where status = 4
    </select>

    <!-- public long CountDemandProcurement(); -->
    <select id="CountDemandProcurement" resultType="long">
        select sum(coalNumber) from demand_order where status = 4
    </select>

    <!-- public long totalvolume(); -->
    <select id="totalvolume" resultType="long">
        select sum(rawCoalPrice * supplyQuantity) from quoted_price_info where status = 3
    </select>

    <!-- public long countQuotedPriceNumber(); -->
    <select id="countQuotedPriceNumber" resultType="long">
        select count(*) from quoted_price_info where status = 3
    </select>

    <!-- public long KindsOfCoal(String coalType); -->
    <select id="KindsOfCoal" resultType="long">
        select sum(coalNumber) from demand_order where coalType = #{coalType}
    </select>

    <!-- public long existOrNotExist(String coalType); -->
    <select id="existOrNotExist" resultType="long">
        select count(*) from demand_order where coalType = #{coalType}
    </select>

    <!-- public long modeOfTransportStatistics(String transportType); -->
    <select id="modeOfTransportStatistics" resultType="long">
        select count(*) from demand_order where transportType = #{transportType}
    </select>

</mapper>